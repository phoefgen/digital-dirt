"use strict";function createInfoWindow(n){var e="";return n.description_short&&(e=n.description_short),'<div id="truckDetail">\n                <h1>'+n.name+"</h1>\n                <h3>"+e+"</h3>\n                <p>"+n.description_long+"</p>\n                "}function createMarker(n,e){return new google.maps.Marker({title:n.name,icon:"../img/truck.png",position:n.position,map:e,animation:google.maps.Animation.DROP})}function getData(n){fetch("http://localhost:1337/data.streetfoodapp.com/1.1/schedule/vancouver/").then(function(e){e.json().then(function(e){n(e)})})}function getTrucks(n){getData(function(e){for(var t=Object.keys(e.vendors),o=t.length,i=0;i<=o;i++)e.vendors[t[i]]&&"last"in e.vendors[t[i]]&&function(){var o={name:e.vendors[t[i]].name,position:{lat:e.vendors[t[i]].last.latitude,lng:e.vendors[t[i]].last.longitude},email:e.vendors[t[i]].email,rating:e.vendors[t[i]].rating,description_long:e.vendors[t[i]].description,description_short:e.vendors[t[i]].description_short},r=createInfoWindow(o);o.infowindow=new google.maps.InfoWindow({content:r}),o.marker=createMarker(o,n),o.marker.addListener("click",function(){o.infowindow.open(n,o.marker)}),trucks.push(o),$("#truckList").append("<li>"+o.name+"</li>")}()})}function initMap(){getTrucks(new google.maps.Map(document.getElementById("map"),{zoom:13,center:{lat:49.246292,lng:-123.116226}}))}var openWindow=void 0,trucks=[];